{"ast":null,"code":"import _defineProperty from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from'react';import Tabs,{tabsClasses}from'@mui/material/Tabs';import{Typography,IconButton,Tab,Tooltip}from'@mui/material';import PageviewIcon from'@mui/icons-material/Pageview';import{STATE}from'../../../redux/reducers/translateFileReducer';import SwapHorizIcon from'@mui/icons-material/SwapHoriz';import{useTranslation}from'react-i18next';import{connect}from'react-redux';import{changeSource,changeTarget,swapTranslate,translationAsync,translationAndDetectAsync,changeSourceText,reset,changeTargetText,changeDetectLang}from'../../../redux/actions/translateAction';import{TRANSLATE_TYPE}from'../../../constants/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TranslationChooselang(props){var translationFileState=props.translationFileState,translationState=props.translationState,translateType=props.translateType;var _useTranslation=useTranslation(),t=_useTranslation.t;/**\n\t  * @description Function hoán đổi loại ngôn ngữ\n\t  */var handleSwap=function handleSwap(){props.swapTranslate(translationState.translateCode.targetLang,translationState.translateCode.sourceLang);if(translationState.translateText.targetText!==''&&translateType===TRANSLATE_TYPE.plainText){props.changeSourceText(translationState.translateText.targetText);props.changeTargetText(translationState.translateText.sourceText);}};/**\n\t  * @description Function thay đổi loại ngôn ngữ source\n\t* Trong TH đã có kết quả dịch, sẽ reset kết quả về rỗng\n\t  */var handleChangeFrom=function handleChangeFrom(event,newValue){if(newValue=='detect')props.changeSource(null);else props.changeSource(newValue);if(translateType===TRANSLATE_TYPE.plainText){if(translationState.translateCode.detectLang!==null){props.changeDetectLang(null);}if(translationState.translateText.targetText!==''){props.changeTargetText('');}}};/**\n\t\t\t* @description Function thay đổi ngôn ngữ target, 2 TH: \n\t* 1. Có kết quả dịch => reset lại target text => gọi lại hàm dịch.\n\t* 2. Ko có kết quả dịch => không gọi lại hàm dịch.\n\t  */var handleChangeTo=function handleChangeTo(event,newValue){props.changeTarget(newValue);if(translateType===TRANSLATE_TYPE.plainText){if(translationState.translateText.targetText!==''){props.changeTargetText('');if(translationState.translateCode.sourceLang){props.translationAsync({sourceText:translationState.translateText.sourceText,sourceLang:translationState.translateCode.sourceLang,targetLang:newValue});}else{props.translationAndDetectAsync({sourceText:translationState.translateText.sourceText,targetLang:newValue});}}}};var showColorText=function showColorText(){if(translationState.currentState===STATE.FAILURE){return'#ff1744';}return null;};var returnTabsValue=function returnTabsValue(){if(translationState.translateCode.detectLang!==null||translationState.translateCode.sourceLang==null){return'detect';}else return translationState.translateCode.sourceLang;};var isDisableTab=function isDisableTab(){return translationState.currentState===STATE.LOADING||translationFileState.currentState===STATE.LOADING;};var isDetectFail=function isDetectFail(){return translationState.translateCode.detectLang!==null||translationState.currentState===STATE.FAILURE;};var renderDetectLabel=function renderDetectLabel(){if(translationState.translateCode.detectLang==null){if(translationState.currentState===STATE.FAILURE)return/*#__PURE__*/_jsx(Typography,{color:showColorText(),children:\"Kh\\xF4ng th\\u1EC3 nh\\u1EADn di\\u1EC7n ng\\xF4n ng\\u1EEF\"});else return null;}else return/*#__PURE__*/_jsxs(Typography,{color:showColorText(),children:[\"Ng\\xF4n ng\\u1EEF ph\\xE1t hi\\u1EC7n: \",t(translationState.translateCode.detectLang)]});};return/*#__PURE__*/_jsxs(\"div\",{style:{borderBottom:'1px solid #ccc',display:'flex',flexDirection:'row',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',overflow:'auto',whiteSpace:'nowrap'},children:/*#__PURE__*/_jsxs(Tabs,{value:returnTabsValue(),onChange:handleChangeFrom,variant:\"scrollable\",scrollButtons:\"auto\",sx:_defineProperty({},\"& .\".concat(tabsClasses.scrollButtons),{'&.Mui-disabled':{opacity:0.3}}),children:[/*#__PURE__*/_jsx(Tab,{icon:isDetectFail()?null:/*#__PURE__*/_jsx(Tooltip,{title:t('Translate.phathienngonngu'),children:/*#__PURE__*/_jsx(PageviewIcon,{fontSize:\"medium\"})}),label:renderDetectLabel(),sx:{minWidth:'auto',minHeight:'auto'},value:'detect',disabled:isDisableTab(),style:{fontWeight:'bold'}}),translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.anh'),value:'en',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.trung'),value:'zh',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.lao'),value:'lo',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.khome'),value:'km',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,!translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.viet'),value:'vi',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null]})}),/*#__PURE__*/_jsx(\"div\",{style:{alignSelf:'center'},children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Example\",onClick:handleSwap,disabled:translationState.translateCode.sourceLang===null||isDisableTab(),children:/*#__PURE__*/_jsx(SwapHorizIcon,{fontSize:\"medium\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',overflow:'auto',whiteSpace:'nowrap'},children:/*#__PURE__*/_jsxs(Tabs,{value:translationState.translateCode.targetLang,onChange:handleChangeTo,variant:\"scrollable\",scrollButtons:\"auto\",sx:_defineProperty({},\"& .\".concat(tabsClasses.scrollButtons),{'&.Mui-disabled':{opacity:0.3}}),children:[!translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.anh'),value:'en',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,!translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.trung'),value:'zh',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,!translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.lao'),value:'lo',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,!translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.khome'),value:'km',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null,translationState.isSwap?/*#__PURE__*/_jsx(Tab,{label:t('Translate.listLanguage.viet'),value:'vi',disabled:isDisableTab(),style:{fontWeight:'bold'}}):null]})})]});}var mapStateToProps=function mapStateToProps(state){return{translationState:state.translateReducer,translationFileState:state.translateFileReducer};};var mapDispatchToProps={changeSource:changeSource,changeTarget:changeTarget,swapTranslate:swapTranslate,translationAsync:translationAsync,translationAndDetectAsync:translationAndDetectAsync,changeSourceText:changeSourceText,reset:reset,changeTargetText:changeTargetText,changeDetectLang:changeDetectLang};export default connect(mapStateToProps,mapDispatchToProps)(TranslationChooselang);","map":{"version":3,"sources":["/workspace/hoangta/translation-backend/frontend/src/screens/TranslationScreen/components/TranslationChooselang.js"],"names":["React","Tabs","tabsClasses","Typography","IconButton","Tab","Tooltip","PageviewIcon","STATE","SwapHorizIcon","useTranslation","connect","changeSource","changeTarget","swapTranslate","translationAsync","translationAndDetectAsync","changeSourceText","reset","changeTargetText","changeDetectLang","TRANSLATE_TYPE","TranslationChooselang","props","translationFileState","translationState","translateType","t","handleSwap","translateCode","targetLang","sourceLang","translateText","targetText","plainText","sourceText","handleChangeFrom","event","newValue","detectLang","handleChangeTo","showColorText","currentState","FAILURE","returnTabsValue","isDisableTab","LOADING","isDetectFail","renderDetectLabel","borderBottom","display","flexDirection","justifyContent","flex","overflow","whiteSpace","scrollButtons","opacity","minWidth","minHeight","fontWeight","isSwap","alignSelf","mapStateToProps","state","translateReducer","translateFileReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Tabs, { tabsClasses } from '@mui/material/Tabs';\nimport { Typography, IconButton, Tab, Tooltip } from '@mui/material';\nimport PageviewIcon from '@mui/icons-material/Pageview';\nimport { STATE } from '../../../redux/reducers/translateFileReducer';\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport {\n\tchangeSource,\n\tchangeTarget,\n\tswapTranslate,\n\ttranslationAsync,\n\ttranslationAndDetectAsync,\n\tchangeSourceText,\n\treset,\n\tchangeTargetText,\n\tchangeDetectLang,\n} from '../../../redux/actions/translateAction';\nimport { TRANSLATE_TYPE } from '../../../constants/common';\n\nfunction TranslationChooselang(props) {\n\tconst { translationFileState, translationState, translateType } = props;\n\tconst { t } = useTranslation();\n\n\t/**\n\t  * @description Function hoán đổi loại ngôn ngữ\n\t  */\n\tconst handleSwap = () => {\n\t\tprops.swapTranslate(translationState.translateCode.targetLang, translationState.translateCode.sourceLang);\n\t\tif (translationState.translateText.targetText !== '' && translateType === TRANSLATE_TYPE.plainText) {\n\t\t\tprops.changeSourceText(translationState.translateText.targetText);\n\t\t\tprops.changeTargetText(translationState.translateText.sourceText);\n\t\t}\n\t};\n\n\t/**\n\t  * @description Function thay đổi loại ngôn ngữ source\n\t* Trong TH đã có kết quả dịch, sẽ reset kết quả về rỗng\n\t  */\n\tconst handleChangeFrom = (event, newValue) => {\n\t\tif (newValue == 'detect') props.changeSource(null);\n\t\telse props.changeSource(newValue);\n\t\tif (translateType === TRANSLATE_TYPE.plainText) {\n\t\t\tif (translationState.translateCode.detectLang !== null) {\n\t\t\t\tprops.changeDetectLang(null);\n\t\t\t}\n\t\t\tif (translationState.translateText.targetText !== '') {\n\t\t\t\tprops.changeTargetText('');\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t\t\t* @description Function thay đổi ngôn ngữ target, 2 TH: \n\t* 1. Có kết quả dịch => reset lại target text => gọi lại hàm dịch.\n\t* 2. Ko có kết quả dịch => không gọi lại hàm dịch.\n\t  */\n\tconst handleChangeTo = (event, newValue) => {\n\t\tprops.changeTarget(newValue);\n\t\tif (translateType === TRANSLATE_TYPE.plainText) {\n\t\t\tif (translationState.translateText.targetText !== '') {\n\t\t\t\tprops.changeTargetText('');\n\t\t\t\tif (translationState.translateCode.sourceLang) {\n\t\t\t\t\tprops.translationAsync({\n\t\t\t\t\t\tsourceText: translationState.translateText.sourceText,\n\t\t\t\t\t\tsourceLang: translationState.translateCode.sourceLang,\n\t\t\t\t\t\ttargetLang: newValue,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tprops.translationAndDetectAsync({\n\t\t\t\t\t\tsourceText: translationState.translateText.sourceText,\n\t\t\t\t\t\ttargetLang: newValue,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst showColorText = () => {\n\t\tif (translationState.currentState === STATE.FAILURE) {\n\t\t\treturn '#ff1744';\n\t\t}\n\t\treturn null;\n\t};\n\n\tconst returnTabsValue = () => {\n\t\tif (translationState.translateCode.detectLang !== null || translationState.translateCode.sourceLang == null) {\n\t\t\treturn 'detect';\n\t\t}\n\t\telse\n\t\t\treturn translationState.translateCode.sourceLang;\n\t};\n\n\tconst isDisableTab = () => {\n\t\treturn translationState.currentState === STATE.LOADING || translationFileState.currentState === STATE.LOADING;\n\t};\n\n\tconst isDetectFail = () => {\n\t\treturn (translationState.translateCode.detectLang !== null || translationState.currentState === STATE.FAILURE);\n\t};\n\n\tconst renderDetectLabel = () => {\n\t\tif (translationState.translateCode.detectLang == null) {\n\t\t\tif (translationState.currentState === STATE.FAILURE)\n\t\t\t\treturn (\n\t\t\t\t\t<Typography color={showColorText()}>Không thể nhận diện ngôn ngữ</Typography>\n\t\t\t\t); \n\t\t\telse return null;\n\t\t}\n\t\telse return (\n\t\t\t<Typography color={showColorText()}>Ngôn ngữ phát hiện: {t(translationState.translateCode.detectLang)}</Typography>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div style={{ borderBottom: '1px solid #ccc', display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }} >\n\t\t\t{/* ChooseLang */}\n\t\t\t<div style={{ flex: 1, display: 'flex', overflow: 'auto', whiteSpace: 'nowrap' }}>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={returnTabsValue()}\n\t\t\t\t\tonChange={handleChangeFrom}\n\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tsx={{\n\t\t\t\t\t\t[`& .${tabsClasses.scrollButtons}`]: {\n\t\t\t\t\t\t\t'&.Mui-disabled': { opacity: 0.3 },\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Tab\n\t\t\t\t\t\ticon={isDetectFail() ?\n\t\t\t\t\t\t\tnull :\n\t\t\t\t\t\t\t<Tooltip title={t('Translate.phathienngonngu')}><PageviewIcon fontSize='medium' /></Tooltip>}\n\t\t\t\t\t\tlabel={renderDetectLabel()}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tminWidth: 'auto',\n\t\t\t\t\t\t\tminHeight: 'auto',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={'detect'}\n\t\t\t\t\t\tdisabled={isDisableTab()}\n\t\t\t\t\t\tstyle={{ fontWeight: 'bold' }}\n\t\t\t\t\t/> \n\t\t\t\t\t{translationState.isSwap ? <Tab label={t('Translate.listLanguage.anh')} value={'en'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{translationState.isSwap ? <Tab label={t('Translate.listLanguage.trung')} value={'zh'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{translationState.isSwap ? <Tab label={t('Translate.listLanguage.lao')} value={'lo'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{translationState.isSwap ? <Tab label={t('Translate.listLanguage.khome')} value={'km'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{!translationState.isSwap ? <Tab label={t('Translate.listLanguage.viet')} value={'vi'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t\t<div style={{ alignSelf: 'center' }}>\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"Example\"\n\t\t\t\t\tonClick={handleSwap}\n\t\t\t\t\tdisabled={translationState.translateCode.sourceLang === null || isDisableTab()}>\n\t\t\t\t\t<SwapHorizIcon fontSize='medium' />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<div style={{ flex: 1, display: 'flex', overflow: 'auto', whiteSpace: 'nowrap' }}>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={translationState.translateCode.targetLang}\n\t\t\t\t\tonChange={handleChangeTo}\n\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tsx={{\n\t\t\t\t\t\t[`& .${tabsClasses.scrollButtons}`]: {\n\t\t\t\t\t\t\t'&.Mui-disabled': { opacity: 0.3 },\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{!translationState.isSwap ? <Tab label={t('Translate.listLanguage.anh')} value={'en'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{!translationState.isSwap ? <Tab label={t('Translate.listLanguage.trung')} value={'zh'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{!translationState.isSwap ? <Tab label={t('Translate.listLanguage.lao')} value={'lo'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{!translationState.isSwap ? <Tab label={t('Translate.listLanguage.khome')} value={'km'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t\t{translationState.isSwap ? <Tab label={t('Translate.listLanguage.viet')} value={'vi'} disabled={isDisableTab()} style={{ fontWeight: 'bold' }} /> : null}\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nTranslationChooselang.propTypes = {\n\ttranslateType: PropTypes.number,\n\ttranslationFileState: PropTypes.object,\n\ttranslationState: PropTypes.object,\n\tchangeSource: PropTypes.func,\n\tchangeTarget: PropTypes.func,\n\tswapTranslate: PropTypes.func,\n\ttranslationAsync: PropTypes.func,\n\ttranslationAndDetectAsync: PropTypes.func,\n\tchangeSourceText: PropTypes.func,\n\tchangeTargetText: PropTypes.func,\n\tchangeDetectLang: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n\ttranslationState: state.translateReducer,\n\ttranslationFileState: state.translateFileReducer\n});\n\nconst mapDispatchToProps = {\n\tchangeSource,\n\tchangeTarget,\n\tswapTranslate,\n\ttranslationAsync,\n\ttranslationAndDetectAsync,\n\tchangeSourceText,\n\treset,\n\tchangeTargetText,\n\tchangeDetectLang,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslationChooselang);\n"]},"metadata":{},"sourceType":"module"}