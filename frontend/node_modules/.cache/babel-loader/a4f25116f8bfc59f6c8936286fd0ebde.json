{"ast":null,"code":"import React,{useRef}from'react';import{Col}from'react-bootstrap';import{IconButton}from'@mui/material';import styles from'../translateStyle.module.css';import TextareaAutosize from'react-textarea-autosize';import{STATE}from'../../../redux/reducers/translateReducer';import{useTranslation}from'react-i18next';import{connect}from'react-redux';import{changeSourceText,reset,changeTargetText,changeDetectLang}from'../../../redux/actions/translateAction';import CloseIcon from'@mui/icons-material/Close';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TranslateInput(props){var inputEl=useRef(null);var translationState=props.translationState;var _useTranslation=useTranslation(),t=_useTranslation.t;/**\n \t* @description Function check điều kiện để hiển thị nút x\n \t*/var isShowCloseButton=function isShowCloseButton(){if(translationState.currentState===STATE.LOADING){return true;}if(translationState.translateText.sourceText===''){return true;}if(translationState.translateText.sourceText===null){return true;}return false;};/**\n \t* @description Function thay đổi source text, đồng thời reset lại target text, detectLang\n \t*/var handleChangeSourceText=function handleChangeSourceText(evt){evt.preventDefault();props.changeSourceText(evt.target.value);if(translationState.translateText.targetText!==''){props.changeTargetText('');}if(translationState.translateCode.detectLang){props.changeDetectLang(null);}};/**\n \t* @description Function reset text nhập vào về rỗng => reset cả output text về rỗng\n \t*/var handleResetInput=function handleResetInput(){props.reset();inputEl.current.focus();};return/*#__PURE__*/_jsx(Col,{md:6,style:{borderRight:'1px solid #ccc',backgroundColor:translationState.currentState===STATE.LOADING?'#f3f3f3':'white'},children:/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'10px',paddingBottom:'30px',display:'flex'},children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:'0',flex:1},children:/*#__PURE__*/_jsx(TextareaAutosize,{ref:inputEl,minRows:3,disabled:translationState.currentState===STATE.LOADING,onChange:handleChangeSourceText,value:translationState.translateText.sourceText,className:[styles.from_language]// onKeyPress={(e) => e.key === 'Enter' ? handleTranslate() : null }\n,placeholder:t('Translate.nhapVanBan')})}),/*#__PURE__*/_jsx(\"div\",{md:1,style:{padding:'0'},className:['text-center'],children:!isShowCloseButton()?/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Example\",onClick:handleResetInput,type:\"file\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"})}):null})]})})});}var mapStateToProps=function mapStateToProps(state){return{translationState:state.translateReducer};};var mapDispatchToProps={changeSourceText:changeSourceText,reset:reset,changeTargetText:changeTargetText,changeDetectLang:changeDetectLang};export default connect(mapStateToProps,mapDispatchToProps)(TranslateInput);","map":{"version":3,"sources":["/home/hoangta/workspace/translation-backend/frontend/src/screens/TranslationScreen/components/TranslateInput.js"],"names":["React","useRef","Col","IconButton","styles","TextareaAutosize","STATE","useTranslation","connect","changeSourceText","reset","changeTargetText","changeDetectLang","CloseIcon","TranslateInput","props","inputEl","translationState","t","isShowCloseButton","currentState","LOADING","translateText","sourceText","handleChangeSourceText","evt","preventDefault","target","value","targetText","translateCode","detectLang","handleResetInput","current","focus","borderRight","backgroundColor","paddingTop","paddingBottom","display","paddingRight","flex","from_language","padding","mapStateToProps","state","translateReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { \n\tCol,\n} from 'react-bootstrap';\nimport { IconButton } from '@mui/material';\nimport styles from '../translateStyle.module.css';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { STATE } from '../../../redux/reducers/translateReducer';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { \n\tchangeSourceText, \n\treset,\n\tchangeTargetText,\n\tchangeDetectLang,\n} from '../../../redux/actions/translateAction';\nimport CloseIcon from '@mui/icons-material/Close';\n\nfunction TranslateInput(props) {\n\tconst inputEl = useRef(null);\n\n\tconst { translationState } = props;\n\tconst { t } = useTranslation();\n\n\t/**\n \t* @description Function check điều kiện để hiển thị nút x\n \t*/\n\t const isShowCloseButton = () => {\n\t\tif(translationState.currentState === STATE.LOADING) {\n\t\t\treturn true;\n\t\t}\n\t\tif(translationState.translateText.sourceText === '') {\n\t\t\treturn true;\n\t\t}\n\t\tif(translationState.translateText.sourceText === null) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n \t* @description Function thay đổi source text, đồng thời reset lại target text, detectLang\n \t*/\n\t const handleChangeSourceText = (evt) => {\n\t\tevt.preventDefault();\n\t\tprops.changeSourceText(evt.target.value);\n\t\tif( translationState.translateText.targetText !== '' ){\n\t\t\tprops.changeTargetText('');\n\t\t}\n\t\tif( translationState.translateCode.detectLang ){\n\t\t\tprops.changeDetectLang(null);\n\t\t}\n\t};\n\n\t/**\n \t* @description Function reset text nhập vào về rỗng => reset cả output text về rỗng\n \t*/\n\t const handleResetInput = () => {\n\t\tprops.reset();\n\t\tinputEl.current.focus();\n\t};\n\n\treturn (\n\t\t<Col md={6} style={{ \n\t\t\tborderRight: '1px solid #ccc', \n\t\t\tbackgroundColor: translationState.currentState === STATE.LOADING ? '#f3f3f3' : 'white'  \n\t\t}}>\n\t\t\t<div style={{\n\t\t\t\tpaddingTop: '10px', \n\t\t\t\tpaddingBottom: '30px', \n\t\t\t\tdisplay: 'flex',\n\t\t\t}}>\n\t\t\t\t<>\n\t\t\t\t\t<div style={{ paddingRight: '0', flex: 1 }} >\n\t\t\t\t\t\t<TextareaAutosize\n\t\t\t\t\t\t\tref={inputEl}\n\t\t\t\t\t\t\tminRows={3}\n\t\t\t\t\t\t\tdisabled={translationState.currentState === STATE.LOADING}\n\t\t\t\t\t\t\tonChange={handleChangeSourceText}\n\t\t\t\t\t\t\tvalue={translationState.translateText.sourceText}\n\t\t\t\t\t\t\tclassName={[styles.from_language]}\n\t\t\t\t\t\t\t// onKeyPress={(e) => e.key === 'Enter' ? handleTranslate() : null }\n\t\t\t\t\t\t\tplaceholder={t('Translate.nhapVanBan')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div md={1} style={{ padding: '0' }} className={['text-center']}>\n\t\t\t\t\t\t{!isShowCloseButton() ? \n\t\t\t\t\t\t\t<IconButton aria-label=\"Example\" onClick={handleResetInput} type=\"file\">\n\t\t\t\t\t\t\t\t<CloseIcon fontSize='small'/>\n\t\t\t\t\t\t\t</IconButton> : null}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t</div>\n\t\t</Col>\n\t);\n}\n\nTranslateInput.propTypes = {\n\ttranslationState: PropTypes.object,\n\tchangeSourceText: PropTypes.func,\n\tchangeTargetText: PropTypes.func,\n\tchangeDetectLang: PropTypes.func,\n\treset: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n\ttranslationState: state.translateReducer,\n});\n\nconst mapDispatchToProps = { \n\tchangeSourceText, \n\treset,\n\tchangeTargetText,\n\tchangeDetectLang,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslateInput);\n"]},"metadata":{},"sourceType":"module"}