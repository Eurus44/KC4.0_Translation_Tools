{"ast":null,"code":"import _objectSpread from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unused-vars */import React,{useEffect,useState}from'react';import styles from'./userManagement.module.css';import{getUserListAsync}from'../../redux/actions/userAction';import{connect}from'react-redux';import{Table,Button,Radio,Row,Col}from'antd';import EditIcon from'@mui/icons-material/Edit';import{useTranslation}from'react-i18next';import CreateUserModal from'./components/CreateUserModal';import{STATUS_CODE,USER_STATUS}from'../../constants/common';import*as axiosHelper from'../../helpers/axiosHelper';import{toast}from'react-toastify';import EditQuotaModal from'./components/EditQuotaModal';import authHoc from'../../hocs/authHoc';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UserManagement(props){var userState=props.userState,navbarState=props.navbarState;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),createUserModalVisible=_useState4[0],setCreateUserModalVisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),editUserQuotaModalVisible=_useState6[0],setEditUserQuotaModalVisible=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),editingUserId=_useState8[0],setEditingUserId=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),currentUser=_useState10[0],setCurrentUser=_useState10[1];useEffect(function(){var user=JSON.parse(localStorage.getItem('user'));if(isAdmin(user)){props.getUserListAsync({});setCurrentUser(user);setIsLoading(false);}setIsLoading(false);},[]);useEffect(function(){if(navbarState.isLogin){props.getUserListAsync({});setIsLoading(false);}},[navbarState.isLogin,createUserModalVisible,editUserQuotaModalVisible]);var isAdmin=function isAdmin(user){return(user===null||user===void 0?void 0:user.role)==='admin'&&(user===null||user===void 0?void 0:user.status)===USER_STATUS.active;};var renderStatus=function renderStatus(currentStatus,record){return/*#__PURE__*/_jsx(Radio.Group,{defaultValue:currentStatus,disabled:record.id===currentUser.id,children:Object.keys(USER_STATUS).map(function(statusKey){return/*#__PURE__*/_jsx(Radio.Button,{value:statusKey,onClick:function onClick(e){return handleStatusChange(e,currentStatus,record);},children:t(\"\".concat(statusKey))},statusKey);})});};var renderStatistic=function renderStatistic(id,quota,used){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{flexDirection:'column',textAlign:'start'},children:[t('ViEn'),\": \",used['vi-en'],\"/\",quota['vi-en'],\" \",t('sentence'),/*#__PURE__*/_jsx(\"br\",{}),t('ViZh'),\": \",used['vi-en'],\"/\",quota['vi-zh'],\" \",t('sentence')]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{flexDirection:'column',textAlign:'start'},children:[t('ViLo'),\": \",used['vi-en'],\"/\",quota['vi-lo'],\" \",t('sentence'),/*#__PURE__*/_jsx(\"br\",{}),t('ViKm'),\": \",used['vi-zh'],\"/\",quota['vi-km'],\" \",t('sentence')]})})]}),/*#__PURE__*/_jsx(EditIcon,{fontSize:\"small\",style:{marginLeft:'auto',cursor:'pointer'},onClick:function onClick(){setEditUserQuotaModalVisible(true);setEditingUserId(id);}})]});};var handleStatusChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,currentStatus,record){var status,body,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:status=e.target.value;body={id:record.id,role:record.role,status:status,text_translation_quota:record.textTranslationQuota};_context.next=4;return axiosHelper.updateUser(body);case 4:result=_context.sent;if(result.code===STATUS_CODE.success){props.getUserListAsync({});toast.success(t('updateSuccess'));}case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleStatusChange(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var columns=[{title:t('username'),dataIndex:'username',key:'username'},{title:t('email'),dataIndex:'email',key:'email'},{title:t('textQuota'),align:'center',dataIndex:'textTranslationQuota',key:'textQuota',render:function render(textQuota,record){return renderStatistic(record.id,record.textTranslationQuota,record.totalTranslatedText);}},{title:t('status'),align:'center',dataIndex:'status',key:'status',render:function render(currentStatus,record){return renderStatus(currentStatus,record);}},{title:t('role'),dataIndex:'role',key:'role',render:function render(role){return t(\"\".concat(role));}}];if(isLoading)return/*#__PURE__*/_jsx(_Fragment,{});if(!isAdmin(JSON.parse(localStorage.getItem('user'))))return/*#__PURE__*/_jsx(\"div\",{className:styles.pageContainer,children:\"No authorized\"});return/*#__PURE__*/_jsxs(\"div\",{className:styles.pageContainer,children:[/*#__PURE__*/_jsx(Table,{bordered:true,className:\"table-striped-rows\",dataSource:userState.listUser.map(function(d){return _objectSpread(_objectSpread({},d),{},{key:d.id});}),columns:columns}),createUserModalVisible&&/*#__PURE__*/_jsx(CreateUserModal,{visible:createUserModalVisible,setVisible:setCreateUserModalVisible}),editUserQuotaModalVisible&&/*#__PURE__*/_jsx(EditQuotaModal,{userId:editingUserId,visible:editUserQuotaModalVisible,setVisible:setEditUserQuotaModalVisible})]});}var mapStateToProps=function mapStateToProps(state){return{userState:state.userReducer,navbarState:state.navbarReducer};};var mapDispatchToProps={getUserListAsync:getUserListAsync};export default connect(mapStateToProps,mapDispatchToProps)(authHoc(UserManagement));","map":{"version":3,"sources":["/workspace/hoangta/translation-backend/frontend/src/screens/UserManagement/index.js"],"names":["React","useEffect","useState","styles","getUserListAsync","connect","Table","Button","Radio","Row","Col","EditIcon","useTranslation","CreateUserModal","STATUS_CODE","USER_STATUS","axiosHelper","toast","EditQuotaModal","authHoc","UserManagement","props","userState","navbarState","t","isLoading","setIsLoading","createUserModalVisible","setCreateUserModalVisible","editUserQuotaModalVisible","setEditUserQuotaModalVisible","editingUserId","setEditingUserId","currentUser","setCurrentUser","user","JSON","parse","localStorage","getItem","isAdmin","isLogin","role","status","active","renderStatus","currentStatus","record","id","Object","keys","map","statusKey","e","handleStatusChange","renderStatistic","quota","used","display","flexDirection","textAlign","marginLeft","cursor","target","value","body","text_translation_quota","textTranslationQuota","updateUser","result","code","success","columns","title","dataIndex","key","align","render","textQuota","totalTranslatedText","pageContainer","listUser","d","mapStateToProps","state","userReducer","navbarReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react';\nimport styles from './userManagement.module.css';\nimport { getUserListAsync } from '../../redux/actions/userAction';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Table, Button, Radio, Row, Col } from 'antd';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { useTranslation } from 'react-i18next';\nimport CreateUserModal from './components/CreateUserModal';\nimport { STATUS_CODE, USER_STATUS } from '../../constants/common';\nimport * as axiosHelper from '../../helpers/axiosHelper';\nimport { toast } from 'react-toastify';\nimport EditQuotaModal from './components/EditQuotaModal';\nimport authHoc from '../../hocs/authHoc';\n\nfunction UserManagement(props) {\n\tconst { userState, navbarState } = props;\n\tconst { t } = useTranslation();\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [createUserModalVisible, setCreateUserModalVisible] = useState(false);\n\tconst [editUserQuotaModalVisible, setEditUserQuotaModalVisible] = useState(false);\n\tconst [editingUserId, setEditingUserId] = useState('');\n\tconst [currentUser, setCurrentUser] = useState('');\n\n\tuseEffect(() => {\n\t\tconst user = JSON.parse(localStorage.getItem('user'));\n\n\t\tif (isAdmin(user)) {\n\t\t\tprops.getUserListAsync({});\n\t\t\tsetCurrentUser(user);\n\t\t\tsetIsLoading(false);\n\t\t}\n\n\t\tsetIsLoading(false);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (navbarState.isLogin) {\n\t\t\tprops.getUserListAsync({});\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [navbarState.isLogin, createUserModalVisible, editUserQuotaModalVisible]);\n\n\tconst isAdmin = (user) => {\n\t\treturn user?.role === 'admin' && user?.status === USER_STATUS.active;\n\t};\n\n\tconst renderStatus = (currentStatus, record) => {\n\t\treturn (\n\t\t\t<Radio.Group defaultValue={currentStatus} disabled={record.id === currentUser.id}>\n\t\t\t\t{\n\t\t\t\t\tObject.keys(USER_STATUS).map(statusKey => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Radio.Button key={statusKey} value={statusKey} onClick={(e) =>\n\t\t\t\t\t\t\t\thandleStatusChange(e, currentStatus, record)\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t{t(`${statusKey}`)}\n\t\t\t\t\t\t\t</Radio.Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</Radio.Group>\n\t\t);\n\t};\n\n\tconst renderStatistic = (id, quota, used) => {\n\t\treturn (\n\n\t\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<div style={{ flexDirection: 'column', textAlign: 'start' }}>\n\t\t\t\t\t\t\t{t('ViEn')}: {used['vi-en']}/{quota['vi-en']} {t('sentence')}<br />\n\t\t\t\t\t\t\t{t('ViZh')}: {used['vi-en']}/{quota['vi-zh']} {t('sentence')}\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<div style={{ flexDirection: 'column', textAlign: 'start' }}>\n\t\t\t\t\t\t\t{t('ViLo')}: {used['vi-en']}/{quota['vi-lo']} {t('sentence')}<br />\n\t\t\t\t\t\t\t{t('ViKm')}: {used['vi-zh']}/{quota['vi-km']} {t('sentence')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<EditIcon fontSize='small' style={{ marginLeft: 'auto', cursor: 'pointer' }} onClick={() => { setEditUserQuotaModalVisible(true); setEditingUserId(id); }} />\n\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst handleStatusChange = async (e, currentStatus, record) => {\n\t\tconst status = e.target.value;\n\n\t\tconst body = {\n\t\t\tid: record.id,\n\t\t\trole: record.role,\n\t\t\tstatus: status,\n\t\t\ttext_translation_quota: record.textTranslationQuota\n\t\t};\n\n\t\tconst result = await axiosHelper.updateUser(body);\n\n\t\tif (result.code === STATUS_CODE.success) {\n\t\t\tprops.getUserListAsync({});\n\t\t\ttoast.success(t('updateSuccess'));\n\t\t}\n\t};\n\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: t('username'),\n\t\t\tdataIndex: 'username',\n\t\t\tkey: 'username',\n\t\t},\n\t\t{\n\t\t\ttitle: t('email'),\n\t\t\tdataIndex: 'email',\n\t\t\tkey: 'email',\n\t\t},\n\t\t{\n\t\t\ttitle: t('textQuota'),\n\t\t\talign: 'center',\n\t\t\tdataIndex: 'textTranslationQuota',\n\t\t\tkey: 'textQuota',\n\t\t\trender: (textQuota, record) => {\n\t\t\t\treturn renderStatistic(record.id, record.textTranslationQuota, record.totalTranslatedText);\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttitle: t('status'),\n\t\t\talign: 'center',\n\t\t\tdataIndex: 'status',\n\t\t\tkey: 'status',\n\t\t\trender: (currentStatus, record) => {\n\t\t\t\treturn renderStatus(currentStatus, record);\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttitle: t('role'),\n\t\t\tdataIndex: 'role',\n\t\t\tkey: 'role',\n\t\t\trender: (role) => t(`${role}`)\n\t\t},\n\t];\n\n\tif (isLoading) return <></>;\n\n\tif (!isAdmin(JSON.parse(localStorage.getItem('user')))) return <div className={styles.pageContainer}>No authorized</div>;\n\n\treturn (\n\t\t<div className={styles.pageContainer} >\n\t\t\t{/* <Button onClick={() => setCreateUserModalVisible(true)} type=\"primary\" className={styles.createButton}>{t('createUser')}</Button> */}\n\n\t\t\t<Table\n\t\t\t\tbordered\n\t\t\t\tclassName='table-striped-rows'\n\t\t\t\tdataSource={userState.listUser.map(d => ({ ...d, key: d.id }))}\n\t\t\t\tcolumns={columns}\n\t\t\t>\n\t\t\t</Table>\n\n\t\t\t{createUserModalVisible && <CreateUserModal visible={createUserModalVisible} setVisible={setCreateUserModalVisible} />}\n\t\t\t{editUserQuotaModalVisible && <EditQuotaModal userId={editingUserId} visible={editUserQuotaModalVisible} setVisible={setEditUserQuotaModalVisible} />}\n\t\t</div>\n\t);\n}\n\nUserManagement.propTypes = {\n\tuserState: PropTypes.object,\n\tnavbarState: PropTypes.object,\n\tgetUserListAsync: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n\tuserState: state.userReducer,\n\tnavbarState: state.navbarReducer,\n});\n\nconst mapDispatchToProps = {\n\tgetUserListAsync\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(authHoc(UserManagement));"]},"metadata":{},"sourceType":"module"}