{"ast":null,"code":"import React from'react';import{Col}from'react-bootstrap';import{IconButton}from'@mui/material';import styles from'../translateStyle.module.css';import TextareaAutosize from'react-textarea-autosize';import{STATE}from'../../../redux/reducers/translateReducer';import{connect}from'react-redux';import{translationAsync,translationAndDetectAsync,changeTargetText}from'../../../redux/actions/translateAction';import{useTranslation}from'react-i18next';import LoadingButton from'@mui/lab/LoadingButton';import ContentCopyIcon from'@mui/icons-material/ContentCopy';import{TRANSLATE_TYPE}from'../../../constants/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TranslateInput(props){var translationState=props.translationState,translateType=props.translateType;var _useTranslation=useTranslation(),t=_useTranslation.t;var isDisableTranslateButton=function isDisableTranslateButton(){if(translationState.currentState===STATE.LOADING){return true;}if(translationState.translateText.sourceText===''&&translateType===TRANSLATE_TYPE.plainText){return true;}if((translationState.translateCode.sourceLang==null||translationState.translateCode.detectLang!=null)&&translationState.currentState==STATE.FAILURE){return true;};return false;};/**\n \t* @description Function dịch từ, (Ấn enter hoặc ấn nút dịch từ)\n\t* 1. Trong trường hợp có kết quả dịch => reset lại kết quả dịch về rỗng => gọi lại dịch\n\t* 2. Còn lại thì dịch vs 2 TH => sourcelang === null (Nhận dạng ngôn ngữ) và sourcelang === vi,cn .. \n \t*/var handleTranslate=function handleTranslate(){if(translationState.translateText.targetText!==''){props.changeTargetText('');}if(translationState.translateCode.sourceLang){props.translationAsync({sourceText:translationState.translateText.sourceText,sourceLang:translationState.translateCode.sourceLang,targetLang:translationState.translateCode.targetLang});}else{props.translationAndDetectAsync({sourceText:translationState.translateText.sourceText,targetLang:translationState.translateCode.targetLang});}};var isDetect=function isDetect(){return translateType===TRANSLATE_TYPE.plainText&&(translationState.translateCode.sourceLang==null||translationState.translateCode.detectLang!=null);};return/*#__PURE__*/_jsx(Col,{md:6,className:styles.ResultTranslateBox,style:{backgroundColor:translationState.translateText.targetText===''?'#f3f3f3':'white'},children:translationState.translateText.targetText!==''?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.boxdich,children:/*#__PURE__*/_jsx(TextareaAutosize,{disabled:true,minRows:3,style:{backgroundColor:'white'},value:translationState.translateText.targetText,className:[styles.from_language]})}),/*#__PURE__*/_jsx(\"div\",{style:{justifyContent:'end',display:'flex',paddingBottom:5},children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Example\",onClick:function onClick(){return navigator.clipboard.writeText(translationState.translateText.targetText);},children:/*#__PURE__*/_jsx(ContentCopyIcon,{fontSize:\"medium\"})})})]}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:translationState.translateText.targetText===''?'#f3f3f3':'white',display:'flex',paddingTop:10,paddingBottom:10,justifyContent:'start'},children:/*#__PURE__*/_jsx(LoadingButton,{variant:\"contained\",onClick:handleTranslate,loading:translationState.currentState===STATE.LOADING,disabled:isDisableTranslateButton(),style:{fontWeight:'bold',display:'flex'},children:isDetect()?t('detectAndTranslate'):t('dich')})})});}var mapStateToProps=function mapStateToProps(state){return{translationState:state.translateReducer};};var mapDispatchToProps={translationAsync:translationAsync,translationAndDetectAsync:translationAndDetectAsync,changeTargetText:changeTargetText};export default connect(mapStateToProps,mapDispatchToProps)(TranslateInput);","map":{"version":3,"sources":["/workspace/hoangta/translation-backend/frontend/src/screens/TranslationScreen/components/TranslateOutput.js"],"names":["React","Col","IconButton","styles","TextareaAutosize","STATE","connect","translationAsync","translationAndDetectAsync","changeTargetText","useTranslation","LoadingButton","ContentCopyIcon","TRANSLATE_TYPE","TranslateInput","props","translationState","translateType","t","isDisableTranslateButton","currentState","LOADING","translateText","sourceText","plainText","translateCode","sourceLang","detectLang","FAILURE","handleTranslate","targetText","targetLang","isDetect","ResultTranslateBox","backgroundColor","boxdich","from_language","justifyContent","display","paddingBottom","navigator","clipboard","writeText","paddingTop","fontWeight","mapStateToProps","state","translateReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { \n\tCol,\n} from 'react-bootstrap';\nimport { IconButton } from '@mui/material';\nimport styles from '../translateStyle.module.css';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { STATE } from '../../../redux/reducers/translateReducer';\nimport { connect } from 'react-redux';\nimport { \n\ttranslationAsync, \n\ttranslationAndDetectAsync,\n\tchangeTargetText,\n} from '../../../redux/actions/translateAction';\nimport { useTranslation } from 'react-i18next';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport { TRANSLATE_TYPE } from '../../../constants/common';\n\nfunction TranslateInput(props) {\n\tconst { translationState, translateType } = props;\n\tconst { t } = useTranslation();\n\n\tconst isDisableTranslateButton = () => {\n\t\tif(translationState.currentState === STATE.LOADING) {\n\t\t\treturn true;\n\t\t}\n\t\tif(translationState.translateText.sourceText === '' && translateType === TRANSLATE_TYPE.plainText) {\n\t\t\treturn true;\n\t\t}\n\t\tif ((translationState.translateCode.sourceLang == null || translationState.translateCode.detectLang != null) && translationState.currentState == STATE.FAILURE) {\n\t\t\treturn true;\n\t\t};\n\t\treturn false;\n\t};\n\n\t/**\n \t* @description Function dịch từ, (Ấn enter hoặc ấn nút dịch từ)\n\t* 1. Trong trường hợp có kết quả dịch => reset lại kết quả dịch về rỗng => gọi lại dịch\n\t* 2. Còn lại thì dịch vs 2 TH => sourcelang === null (Nhận dạng ngôn ngữ) và sourcelang === vi,cn .. \n \t*/\n\t const handleTranslate = () => {\n\t\tif( translationState.translateText.targetText !== '' ){\n\t\t\tprops.changeTargetText('');\n\t\t}\n\t\tif(translationState.translateCode.sourceLang){\n\t\t\tprops.translationAsync({\n\t\t\t\tsourceText: translationState.translateText.sourceText,\n\t\t\t\tsourceLang: translationState.translateCode.sourceLang,\n\t\t\t\ttargetLang: translationState.translateCode.targetLang,\n\t\t\t});\n\t\t} else {\n\t\t\tprops.translationAndDetectAsync({\n\t\t\t\tsourceText: translationState.translateText.sourceText,\n\t\t\t\ttargetLang: translationState.translateCode.targetLang,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst isDetect = () =>{ \n\t\treturn translateType === TRANSLATE_TYPE.plainText && (translationState.translateCode.sourceLang == null || translationState.translateCode.detectLang != null);\n\t};\n\n\treturn (\n\t\t<Col \n\t\t\tmd={6} \n\t\t\tclassName={styles.ResultTranslateBox} \n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: translationState.translateText.targetText === '' ? '#f3f3f3' : 'white'\n\t\t\t}}>\n\t\t\t{translationState.translateText.targetText !== '' ?\n\t\t\t\t<div>\n\t\t\t\t\t<div className={styles.boxdich}>\n\t\t\t\t\t\t<TextareaAutosize\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\tminRows={3}\n\t\t\t\t\t\t\tstyle={{backgroundColor: 'white'}}\n\t\t\t\t\t\t\tvalue={translationState.translateText.targetText}\n\t\t\t\t\t\t\tclassName={[ styles.from_language ]}\n\t\t\t\t\t\t/> \n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ justifyContent: 'end', display: 'flex', paddingBottom: 5}}>\n\t\t\t\t\t\t<IconButton aria-label=\"Example\" onClick={() => navigator.clipboard.writeText(translationState.translateText.targetText)}>\n\t\t\t\t\t\t\t<ContentCopyIcon fontSize='medium'/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t: <div style={{\n\t\t\t\t\tbackgroundColor: translationState.translateText.targetText === '' ? '#f3f3f3' : 'white' , \n\t\t\t\t\tdisplay: 'flex', \n\t\t\t\t\tpaddingTop: 10,\n\t\t\t\t\tpaddingBottom: 10,\n\t\t\t\t\tjustifyContent: 'start'\n\t\t\t\t}}>\n\t\t\t\t\t<LoadingButton \n\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\tonClick={handleTranslate}\n\t\t\t\t\t\tloading={translationState.currentState === STATE.LOADING}\n\t\t\t\t\t\tdisabled={isDisableTranslateButton()}\n\t\t\t\t\t\tstyle={{ fontWeight: 'bold', display: 'flex'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isDetect() ? t('detectAndTranslate') : t('dich')}\n\t\t\t\t\t</LoadingButton>\n\t\t\t\t</div>\t\n\t\t\t}\n\t\t</Col>\n\t);\n}\n\nTranslateInput.propTypes = {\n\ttranslateType: PropTypes.number,\n\ttranslationState: PropTypes.object,\n\tchangeTargetText: PropTypes.func,\n\ttranslationAsync: PropTypes.func,\n\ttranslationAndDetectAsync: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n\ttranslationState: state.translateReducer,\n});\n\nconst mapDispatchToProps = { \n\ttranslationAsync, \n\ttranslationAndDetectAsync,\n\tchangeTargetText,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslateInput);\n"]},"metadata":{},"sourceType":"module"}