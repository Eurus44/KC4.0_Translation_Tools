{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Avatar from'@mui/material/Avatar';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import IconButton from'@mui/material/IconButton';import Tooltip from'@mui/material/Tooltip';import{useTranslation}from'react-i18next';// import { useGoogleLogout } from 'react-google-login';\nimport*as axiosHelper from'../../helpers/axiosHelper';import{useHistory}from'react-router-dom';import{USER_IMG_URL}from'../../constants/envVar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NavBarProfile(props){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var open=Boolean(anchorEl);var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var redirectToLogin=function redirectToLogin(){props.setIsSignIn(false);localStorage.clear();if(history.location.pathname!=='/translate'){history.push('/login');}};var signOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosHelper.SignOut();case 3:redirectToLogin();_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);redirectToLogin();case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function signOut(){return _ref.apply(this,arguments);};}();// eslint-disable-next-line no-unused-vars\nvar onFailure=function onFailure(res){handleClose();};// const { signOut } = useGoogleLogout({\n// \t// eslint-disable-next-line no-undef\n// \tclientId: process.env.REACT_APP_CLIENT_ID,\n// \tonLogoutSuccess,\n// \tonFailure,\n// \tisSignedIn: false,\n// \taccessType: 'offline',\n// });\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:t('caiDatTaiKhoan'),children:/*#__PURE__*/_jsx(IconButton,{onClick:handleClick,size:\"small\",sx:{mr:2},children:/*#__PURE__*/_jsx(Avatar,{sx:{width:30,height:30},src:localStorage.getItem(USER_IMG_URL)})})}),/*#__PURE__*/_jsxs(Menu,{id:\"basic-menu\",anchorEl:anchorEl,open:open,onClose:handleClose,MenuListProps:{'aria-labelledby':'basic-button'},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){props.setModalShow(true);handleClose();},children:t('thongTinCaNhan')}),/*#__PURE__*/_jsx(MenuItem,{onClick:signOut,children:t('dangXuat')})]})]});}export default NavBarProfile;","map":{"version":3,"sources":["/workspace/hoangta/translation-backend/frontend/src/components/Navbar/NavBarProfile.js"],"names":["React","useState","Avatar","Menu","MenuItem","IconButton","Tooltip","useTranslation","axiosHelper","useHistory","USER_IMG_URL","NavBarProfile","props","t","history","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","redirectToLogin","setIsSignIn","localStorage","clear","location","pathname","push","signOut","SignOut","onFailure","res","mr","width","height","getItem","setModalShow"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA;AACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,2BAA7B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,YAAT,KAA6B,wBAA7B,C,6IACA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC7B,oBAAcL,cAAc,EAA5B,CAAQM,CAAR,iBAAQA,CAAR,CACA,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CAEA,cAAgCR,QAAQ,CAAC,IAAD,CAAxC,wCAAOc,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,IAAI,CAAGC,OAAO,CAACH,QAAD,CAApB,CAEA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC9BJ,WAAW,CAACI,KAAK,CAACC,aAAP,CAAX,CACA,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACzBN,WAAW,CAAC,IAAD,CAAX,CACA,CAFD,CAIA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC7BX,KAAK,CAACY,WAAN,CAAkB,KAAlB,EACAC,YAAY,CAACC,KAAb,GAEA,GAAIZ,OAAO,CAACa,QAAR,CAAiBC,QAAjB,GAA8B,YAAlC,CAAgD,CAC/Cd,OAAO,CAACe,IAAR,CAAa,QAAb,EACA,CACD,CAPD,CASA,GAAMC,CAAAA,OAAO,0FAAG,yKAERtB,CAAAA,WAAW,CAACuB,OAAZ,EAFQ,QAGdR,eAAe,GAHD,8EAMdA,eAAe,GAND,mEAAH,kBAAPO,CAAAA,OAAO,0CAAb,CAUA;AACA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAS,CAC1BX,WAAW,GACX,CAFD,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,mBACC,wCACC,KAAC,OAAD,EAAS,KAAK,CAAET,CAAC,CAAC,gBAAD,CAAjB,uBACC,KAAC,UAAD,EAAY,OAAO,CAAEM,WAArB,CAAkC,IAAI,CAAC,OAAvC,CAA+C,EAAE,CAAE,CAAEe,EAAE,CAAE,CAAN,CAAnD,uBACC,KAAC,MAAD,EAAQ,EAAE,CAAE,CAAEC,KAAK,CAAE,EAAT,CAAaC,MAAM,CAAE,EAArB,CAAZ,CAAuC,GAAG,CAAEX,YAAY,CAACY,OAAb,CAAqB3B,YAArB,CAA5C,EADD,EADD,EADD,cAMC,MAAC,IAAD,EACC,EAAE,CAAC,YADJ,CAEC,QAAQ,CAAEK,QAFX,CAGC,IAAI,CAAEE,IAHP,CAIC,OAAO,CAAEK,WAJV,CAKC,aAAa,CAAE,CACd,kBAAmB,cADL,CALhB,wBASC,KAAC,QAAD,EAAU,OAAO,CAAE,kBAAM,CACxBV,KAAK,CAAC0B,YAAN,CAAmB,IAAnB,EACAhB,WAAW,GACX,CAHD,UAIET,CAAC,CAAC,gBAAD,CAJH,EATD,cAeC,KAAC,QAAD,EAAU,OAAO,CAAEiB,OAAnB,UAA6BjB,CAAC,CAAC,UAAD,CAA9B,EAfD,GAND,GADD,CA0BA,CAOD,cAAeF,CAAAA,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport IconButton from '@mui/material/IconButton';\nimport Tooltip from '@mui/material/Tooltip';\nimport { useTranslation } from 'react-i18next';\n// import { useGoogleLogout } from 'react-google-login';\nimport * as axiosHelper from '../../helpers/axiosHelper';\nimport { useHistory } from 'react-router-dom';\nimport { USER_IMG_URL } from '../../constants/envVar';\nfunction NavBarProfile(props) {\n\tconst { t } = useTranslation();\n\tconst history = useHistory();\n\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst open = Boolean(anchorEl);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst redirectToLogin = () => {\n\t\tprops.setIsSignIn(false);\n\t\tlocalStorage.clear();\n\n\t\tif (history.location.pathname !== '/translate') {\n\t\t\thistory.push('/login');\n\t\t}\n\t};\n\n\tconst signOut = async () => {\n\t\ttry {\n\t\t\tawait axiosHelper.SignOut();\n\t\t\tredirectToLogin();\n\t\t}\n\t\tcatch (e) {\n\t\t\tredirectToLogin();\n\t\t}\n\t};\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst onFailure = (res) => {\n\t\thandleClose();\n\t};\n\n\t// const { signOut } = useGoogleLogout({\n\t// \t// eslint-disable-next-line no-undef\n\t// \tclientId: process.env.REACT_APP_CLIENT_ID,\n\t// \tonLogoutSuccess,\n\t// \tonFailure,\n\t// \tisSignedIn: false,\n\t// \taccessType: 'offline',\n\t// });\n\n\n\treturn (\n\t\t<>\n\t\t\t<Tooltip title={t('caiDatTaiKhoan')}>\n\t\t\t\t<IconButton onClick={handleClick} size=\"small\" sx={{ mr: 2 }}>\n\t\t\t\t\t<Avatar sx={{ width: 30, height: 30 }} src={localStorage.getItem(USER_IMG_URL)} />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t\t<Menu\n\t\t\t\tid=\"basic-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tMenuListProps={{\n\t\t\t\t\t'aria-labelledby': 'basic-button',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={() => {\n\t\t\t\t\tprops.setModalShow(true);\n\t\t\t\t\thandleClose();\n\t\t\t\t}}>\n\t\t\t\t\t{t('thongTinCaNhan')}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={signOut}>{t('dangXuat')}</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n}\n\nNavBarProfile.propTypes = {\n\tsetIsSignIn: PropTypes.func,\n\tsetModalShow: PropTypes.func,\n};\n\nexport default NavBarProfile;"]},"metadata":{},"sourceType":"module"}