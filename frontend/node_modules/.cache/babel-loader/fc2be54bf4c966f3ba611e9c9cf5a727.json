{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/workspace/hoangta/translation-backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';// import LoginGoogle from './LoginGoogle';\nimport Flat from'../../assets/images/Image_flag.png';import{Image}from'react-bootstrap';import TextField from'@mui/material/TextField';import{useTranslation}from'react-i18next';import{Controller,useForm}from'react-hook-form';import*as axiosHelper from'../../helpers/axiosHelper';import{changeIsLogin}from'../../redux/actions/navbarAction';import{getCurrentUser}from'../../redux/actions/userAction';import{useDispatch}from'react-redux';import{ACCESS_TOKEN,REFRESH_TOKEN}from'../../constants/envVar';import{useHistory}from'react-router-dom';import LoginGoogle from'./LoginGoogle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useTranslation=useTranslation(),t=_useTranslation.t;var dispatch=useDispatch();var history=useHistory();var _useForm=useForm(),control=_useForm.control,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var LoginNormal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var siginInResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosHelper.SignIn(values);case 3:siginInResult=_context.sent;dispatch(changeIsLogin(true));dispatch(getCurrentUser());localStorage.setItem(ACCESS_TOKEN,siginInResult.data.accessToken);localStorage.setItem(REFRESH_TOKEN,siginInResult.data.refreshToken);history.push('/translate');_context.next=13;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function LoginNormal(_x){return _ref.apply(this,arguments);};}();// const LoginNormal = () => {\n// \talert('Chưa thể đăng nhập');\n// };\nreturn/*#__PURE__*/_jsx(\"div\",{style:{height:'93.8vh',backgroundColor:'#4e73df'},children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-10 col-lg-12 col-md-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card o-hidden border-0 shadow-lg my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mr-0 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 d-none d-lg-block\",children:/*#__PURE__*/_jsx(Image,{src:Flat,thumbnail:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 align-self-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"m-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h4 text-gray-900 mb-5\",children:\"Ch\\xE0o m\\u1EEBng b\\u1EA1n tr\\u1EDF l\\u1EA1i\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"user\",onSubmit:handleSubmit(LoginNormal),children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(Controller,{control:control,rules:{required:true},render:function render(_ref2){var _ref2$field=_ref2.field,onChange=_ref2$field.onChange,value=_ref2$field.value;return/*#__PURE__*/_jsx(TextField,{error:errors.username,helperText:errors.username?'Trường này là bắt buộc':null,value:value,onChange:onChange,fullWidth:true,id:\"outlined-basic\",label:t('username'),variant:\"outlined\"});},name:\"username\",defaultValue:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-4\",children:/*#__PURE__*/_jsx(Controller,{control:control,rules:{required:true},render:function render(_ref3){var _ref3$field=_ref3.field,onChange=_ref3$field.onChange,value=_ref3$field.value;return/*#__PURE__*/_jsx(TextField,{error:errors.password,helperText:errors.password?'Trường này là bắt buộc':null,value:value,onChange:onChange,fullWidth:true,type:\"password\",id:\"outlined-basic\",label:t('matKhau'),variant:\"outlined\"});},name:\"password\",defaultValue:\"\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"summit\",style:{backgroundColor:'#4E73DF',borderRadius:10},className:\"btn btn-primary btn-block\",children:/*#__PURE__*/_jsx(\"div\",{style:{color:'white',alignSelf:'center',fontWeight:'600',fontSize:'22px'},children:\"\\u0110\\u0103ng nh\\u1EADp\"})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(LoginGoogle,{})]})})]})})})})})})});}export default Login;","map":{"version":3,"sources":["/workspace/hoangta/translation-backend/frontend/src/screens/Login/index.js"],"names":["React","Flat","Image","TextField","useTranslation","Controller","useForm","axiosHelper","changeIsLogin","getCurrentUser","useDispatch","ACCESS_TOKEN","REFRESH_TOKEN","useHistory","LoginGoogle","Login","t","dispatch","history","control","handleSubmit","errors","formState","LoginNormal","values","SignIn","siginInResult","localStorage","setItem","data","accessToken","refreshToken","push","height","backgroundColor","required","field","onChange","value","username","password","borderRadius","color","alignSelf","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import React from 'react';\n// import LoginGoogle from './LoginGoogle';\nimport Flat from '../../assets/images/Image_flag.png';\nimport { Image } from 'react-bootstrap';\nimport TextField from '@mui/material/TextField';\nimport { useTranslation } from 'react-i18next';\nimport { Controller, useForm } from 'react-hook-form';\nimport * as axiosHelper from '../../helpers/axiosHelper';\nimport { changeIsLogin } from '../../redux/actions/navbarAction';\nimport { getCurrentUser } from '../../redux/actions/userAction';\nimport { useDispatch } from 'react-redux';\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from '../../constants/envVar';\nimport { useHistory } from 'react-router-dom';\nimport LoginGoogle from './LoginGoogle';\n\nfunction Login() {\n\tconst { t } = useTranslation();\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst {\n\t\tcontrol, handleSubmit, formState: { errors },\n\t} = useForm();\n\n\tconst LoginNormal = async (values) => {\n\t\ttry {\n\t\t\tconst siginInResult = await axiosHelper.SignIn(values);\n\t\t\tdispatch(changeIsLogin(true));\n\t\t\tdispatch(getCurrentUser());\n\t\t\tlocalStorage.setItem(ACCESS_TOKEN, siginInResult.data.accessToken);\n\t\t\tlocalStorage.setItem(REFRESH_TOKEN, siginInResult.data.refreshToken);\n\t\t\thistory.push('/translate');\n\t\t} catch (e) {\n\t\t\t// alert(e);\n\t\t\t// setVisible(false);\n\t\t}\n\t};\n\n\t// const LoginNormal = () => {\n\t// \talert('Chưa thể đăng nhập');\n\t// };\n\n\treturn (\n\t\t<div style={{ height: '93.8vh', backgroundColor: '#4e73df' }}>\n\t\t\t<div className=\"container\">\n\t\t\t\t{/* Outer Row */}\n\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t<div className=\"col-xl-10 col-lg-12 col-md-9\">\n\t\t\t\t\t\t<div className=\"card o-hidden border-0 shadow-lg my-5\">\n\t\t\t\t\t\t\t<div className=\"card-body p-0\">\n\t\t\t\t\t\t\t\t{/* Nested Row within Card Body */}\n\t\t\t\t\t\t\t\t<div className=\"row mr-0 \">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 d-none d-lg-block\" >\n\t\t\t\t\t\t\t\t\t\t<Image src={Flat} thumbnail />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 align-self-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"m-5\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"h4 text-gray-900 mb-5\">Chào mừng bạn trở lại</h1>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<form className=\"user\" onSubmit={handleSubmit(LoginNormal)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <input type=\"email\"   {...register('account', { required: true })} style={{ height: 50, borderRadius: 15 }} className=\"mb-4 form-control\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" placeholder=\"Enter Email Address...\" /> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={errors.username}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={errors.username ? 'Trường này là bắt buộc' : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('username')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {errors.account && <span className=\"text-danger\">Trường này là bắt buộc</span>} */}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <input type=\"password\"  {...register('password', { required: true })} style={{ height: 50, borderRadius: 15 }} className=\"mb-4 form-control\" id=\"exampleInputPassword\" placeholder=\"Password\" /> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={errors.password}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={errors.password ? 'Trường này là bắt buộc' : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('matKhau')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"summit\" style={{ backgroundColor: '#4E73DF', borderRadius: 10 }} className=\"btn btn-primary btn-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ color: 'white', alignSelf: 'center', fontWeight: '600', fontSize: '22px' }}>Đăng nhập</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <hr /> */}\n\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t<LoginGoogle />\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{/* <div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"small\" href=\"/forgot-password\">Quên mật khẩu?</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"small\" href=\"/register\">Có tài khoản? Đăng ký!</a>\n\t\t\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}