{"ast":null,"code":"import React from'react';import{Col}from'react-bootstrap';import{Button}from'@mui/material';import{translateFileDocumentAsync}from'../../../redux/actions/translateFileAction';import LoadingButton from'@mui/lab/LoadingButton';import{STATE}from'../../../redux/reducers/translateFileReducer';import{useTranslation}from'react-i18next';import styles from'../translateStyle.module.css';import{connect}from'react-redux';import{isNull}from'lodash';import{downloadFile}from'../../../helpers/axiosHelper';import{jsx as _jsx}from\"react/jsx-runtime\";function TranslateFileDocumentOutput(props){var translationFileState=props.translationFileState,translationState=props.translationState;var _useTranslation=useTranslation(),t=_useTranslation.t;/**\n \t* @description Function dịch từ, (Ấn enter hoặc ấn nút dịch từ)\n\t* 1. Trong trường hợp có kết quả dịch => reset lại kết quả dịch về rỗng => gọi lại dịch\n\t* 2. Còn lại thì dịch vs 2 TH => sourcelang === null (Nhận dạng ngôn ngữ) và sourcelang === vi,cn .. \n \t*/var handleTranslate=function handleTranslate(){var formData=new FormData();formData.append('file',translationFileState.documentFile);formData.append('sourceLang',translationState.translateCode.sourceLang);formData.append('targetLang',translationState.translateCode.targetLang);props.translateFileDocumentAsync(formData);};var isDisableTranslateButton=function isDisableTranslateButton(){if(translationFileState.currentState===STATE.LOADING){return true;}if(translationFileState.documentFile===null&&!props.isTranslate){return true;}if(translationState.translateCode.sourceLang===null){return true;}return false;};var buttonTextDich=function buttonTextDich(){switch(translationFileState.outputDocumentFile.target_lang){case'vi':return t('taiTaiLieuTiengViet');case'en':return t('taiTaiLieuTiengAnh');case'zh':return t('taiTaiLieuTiengTrung');case'lo':return t('taiTaiLieuTiengLao');case'km':return t('taiTaiLieuTiengKhome');default:return t('taiTaiLieu');}};return/*#__PURE__*/_jsx(Col,{md:6,className:styles.ResultTranslateBox,style:{backgroundColor:isNull(translationFileState.documentFile)?'#f3f3f3':'white'},children:/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:isNull(translationFileState.documentFile)?'#f3f3f3':'white',display:'flex',paddingTop:10,paddingBottom:10,justifyContent:'start'},children:translationFileState.outputDocumentFile&&translationFileState.documentFile?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",onClick:function onClick(){return downloadFile(translationFileState.documentFile,translationFileState.outputDocumentFile.target_file_full_path,translationFileState.outputDocumentFile.file_type);},children:buttonTextDich()}):/*#__PURE__*/_jsx(LoadingButton,{variant:\"contained\",onClick:handleTranslate,loading:translationFileState.currentState===STATE.LOADING,disabled:isDisableTranslateButton(),style:{fontWeight:'bold',display:'flex'},children:t('dich')})})});}var mapStateToProps=function mapStateToProps(state){return{translationState:state.translateReducer,translationFileState:state.translateFileReducer};};var mapDispatchToProps={translateFileDocumentAsync:translateFileDocumentAsync};export default connect(mapStateToProps,mapDispatchToProps)(TranslateFileDocumentOutput);","map":{"version":3,"sources":["/workspace/hoangta/translation-backend/frontend/src/screens/TranslationScreen/components/TranslateFileDocumentOutput.js"],"names":["React","Col","Button","translateFileDocumentAsync","LoadingButton","STATE","useTranslation","styles","connect","isNull","downloadFile","TranslateFileDocumentOutput","props","translationFileState","translationState","t","handleTranslate","formData","FormData","append","documentFile","translateCode","sourceLang","targetLang","isDisableTranslateButton","currentState","LOADING","isTranslate","buttonTextDich","outputDocumentFile","target_lang","ResultTranslateBox","backgroundColor","display","paddingTop","paddingBottom","justifyContent","target_file_full_path","file_type","fontWeight","mapStateToProps","state","translateReducer","translateFileReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { \n\tCol,\n} from 'react-bootstrap';\nimport { Button } from '@mui/material';\nimport { translateFileDocumentAsync } from '../../../redux/actions/translateFileAction';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { STATE } from '../../../redux/reducers/translateFileReducer';\nimport { useTranslation } from 'react-i18next';\nimport styles from '../translateStyle.module.css';\nimport { connect } from 'react-redux';\nimport { isNull } from 'lodash';\nimport { downloadFile } from '../../../helpers/axiosHelper';\n\n\nfunction TranslateFileDocumentOutput(props) {\n\tconst { translationFileState, translationState } = props;\n\tconst { t } = useTranslation();\n\n\t/**\n \t* @description Function dịch từ, (Ấn enter hoặc ấn nút dịch từ)\n\t* 1. Trong trường hợp có kết quả dịch => reset lại kết quả dịch về rỗng => gọi lại dịch\n\t* 2. Còn lại thì dịch vs 2 TH => sourcelang === null (Nhận dạng ngôn ngữ) và sourcelang === vi,cn .. \n \t*/\n\tconst handleTranslate = () => {\n\t\tconst formData = new FormData();\n\t\tformData.append('file', translationFileState.documentFile);\n\t\tformData.append('sourceLang', translationState.translateCode.sourceLang);\n\t\tformData.append('targetLang', translationState.translateCode.targetLang);\n\t\tprops.translateFileDocumentAsync(formData);\n\t};\n\n\tconst isDisableTranslateButton = () => {\n\t\tif(translationFileState.currentState === STATE.LOADING) {\n\t\t\treturn true;\n\t\t}\n\t\tif(translationFileState.documentFile === null && !props.isTranslate) {\n\t\t\treturn true;\n\t\t}\n\t\tif(translationState.translateCode.sourceLang === null) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst buttonTextDich = () => {\n\t\tswitch (translationFileState.outputDocumentFile.target_lang) {\n\t\tcase 'vi':\n\t\t\treturn t('taiTaiLieuTiengViet');\n\t\tcase 'en':\n\t\t\treturn t('taiTaiLieuTiengAnh');\n\t\tcase 'zh':\n\t\t\treturn t('taiTaiLieuTiengTrung');\n\t\tcase 'lo':\n\t\t\treturn t('taiTaiLieuTiengLao');\n\t\tcase 'km':\n\t\t\treturn t('taiTaiLieuTiengKhome');\n\t\tdefault:\n\t\t\treturn t('taiTaiLieu');\n\t\t}\n\t};\n\n\treturn (\n\t\t<Col \n\t\t\tmd={6} \n\t\t\tclassName={styles.ResultTranslateBox} \n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: isNull(translationFileState.documentFile) ? '#f3f3f3' : 'white'\n\t\t\t}}>\n\t\t\t<div style={{\n\t\t\t\tbackgroundColor: isNull(translationFileState.documentFile) ? '#f3f3f3' : 'white' , \n\t\t\t\tdisplay: 'flex', \n\t\t\t\tpaddingTop: 10,\n\t\t\t\tpaddingBottom: 10,\n\t\t\t\tjustifyContent: 'start'\n\t\t\t}}>\n\t\t\t\t{(translationFileState.outputDocumentFile && translationFileState.documentFile) ? \n\t\t\t\t\t<Button \n\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\tcolor=\"success\" \n\t\t\t\t\t\tonClick={() => downloadFile(translationFileState.documentFile, translationFileState.outputDocumentFile.target_file_full_path, translationFileState.outputDocumentFile.file_type)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{buttonTextDich()}\n\t\t\t\t\t</Button> : <LoadingButton \n\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\tonClick={handleTranslate}\n\t\t\t\t\t\tloading={translationFileState.currentState === STATE.LOADING}\n\t\t\t\t\t\tdisabled={isDisableTranslateButton()}\n\t\t\t\t\t\tstyle={{ fontWeight: 'bold', display: 'flex'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('dich')}\n\t\t\t\t\t</LoadingButton>}\n\t\t\t</div>\n\t\t</Col>\n\t);\n}\n\nTranslateFileDocumentOutput.propTypes = {\n\tisTranslate: PropTypes.bool.isRequired,\n\ttranslationState: PropTypes.object,\n\ttranslationFileState: PropTypes.object,\n\ttranslateFileDocumentAsync: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({ \n\ttranslationState: state.translateReducer,\n\ttranslationFileState: state.translateFileReducer \n});\n\nconst mapDispatchToProps = { \n\ttranslateFileDocumentAsync,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslateFileDocumentOutput);\n"]},"metadata":{},"sourceType":"module"}